import { MultiSelect } from './MultiSelect';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { StarIcon } from '@medly-components/icons';
import { boolean, select, text } from '@storybook/addon-knobs';
import { useState } from 'react';
import { variants, sizes, options, disabledOptions, ThemeInterface } from './MultiSelect.stories';

<Meta title="Core/MultiSelect" component={MultiSelect} />

# MultiSelect

#### 1. Basic MultiSelect component

<Preview withToolbar>
    <Story name="Default">
        {() => {
            const [values, setValues] = useState(['lorem pharmacy', 'a pharmacy']);
            return (
                <MultiSelect
                    options={options}
                    values={values}
                    onChange={setValues}
                    size={select('Size', sizes, 'M')}
                    disabled={boolean('Disabled', false)}
                    fullWidth={boolean('Full Width', false)}
                    required={boolean('Required', false)}
                    label={text('Label', 'Pharmacy')}
                    placeholder="Search Pharmacy"
                    minWidth={text('Min Width', '20rem')}
                    isSearchable={boolean('Is Searchable', true)}
                    helperText={text('Helper Text', 'We will show reports based on Pharmacy')}
                    errorText={text('Error Text', '')}
                    variant={select('Variant', variants, 'filled')}
                />
            );
        }}
    </Story>
</Preview>

#### 2. MultiSelect component with few disabled option

<Preview withToolbar>
    <Story name="WithDisabledOptions">
        {() => {
            const [values, setValues] = useState(['disabled pharmacy', 'a pharmacy']);
            return (
                <MultiSelect
                    options={disabledOptions}
                    values={values}
                    onChange={setValues}
                    size={select('Size', sizes, 'M')}
                    disabled={boolean('Disabled', false)}
                    fullWidth={boolean('Full Width', false)}
                    required={boolean('Required', false)}
                    label={text('Label', 'Pharmacy')}
                    placeholder="Search Pharmacy"
                    isSearchable={boolean('Is Searchable', true)}
                    helperText={text('Helper Text', 'We will show reports based on Pharmacy')}
                    errorText={text('Error Text', '')}
                    variant={select('Variant', variants, 'filled')}
                />
            );
        }}
    </Story>
</Preview>

#### 3. MultiSelect component with icon prefix

<Preview withToolbar>
    <Story name="WithIconPrefix">
        {() => {
            const [values, setValues] = useState(['lorem pharmacy', 'a pharmacy']);
            return (
                <MultiSelect
                    options={options}
                    values={values}
                    onChange={setValues}
                    size={select('Size', sizes, 'M')}
                    disabled={boolean('Disabled', false)}
                    fullWidth={boolean('Full Width', false)}
                    required={boolean('Required', false)}
                    label={text('Label', 'Pharmacy')}
                    placeholder="Search Pharmacy"
                    minWidth={text('Min Width', '20rem')}
                    isSearchable={boolean('Is Searchable', true)}
                    helperText={text('Helper Text', 'We will show reports based on Pharmacy')}
                    errorText={text('Error Text', '')}
                    variant={select('Variant', variants, 'filled')}
                    prefix={StarIcon}
                />
            );
        }}
    </Story>
</Preview>

#### 4. MultiSelect component with creatable options

MultiSelect with creatable options allows user to create new options apart from what are already present. This feature requires `isCreatable` flag set to be true.

<Preview withToolbar>
    <Story name="WithCreatableOptions">
        {() => {
            const [values, setValues] = useState(['lorem pharmacy', 'a pharmacy']);
            return (
                <MultiSelect
                    options={options}
                    values={values}
                    onChange={setValues}
                    size={select('Size', sizes, 'M')}
                    disabled={boolean('Disabled', false)}
                    fullWidth={boolean('Full Width', false)}
                    required={boolean('Required', false)}
                    label={text('Label', 'Pharmacy')}
                    placeholder="Search Pharmacy"
                    minWidth={text('Min Width', '20rem')}
                    isSearchable={boolean('Is Searchable', true)}
                    helperText={text('Helper Text', 'We will show reports based on Pharmacy')}
                    errorText={text('Error Text', '')}
                    variant={select('Variant', variants, 'filled')}
                    isCreatable={boolean('Creatable', true)}
                />
            );
        }}
    </Story>
</Preview>

#### 5. MultiSelect component without chip suffix

<Preview>
    <Story name="WithoutSuffixForSelections">
        {() => {
            const [values, setValues] = useState(['lorem pharmacy', 'a pharmacy']);
            return (
                <MultiSelect
                    options={options}
                    values={values}
                    onChange={setValues}
                    size={select('Size', sizes, 'M')}
                    disabled={boolean('Disabled', false)}
                    fullWidth={boolean('Full Width', false)}
                    required={boolean('Required', false)}
                    label={text('Label', 'Pharmacy')}
                    placeholder="Search Pharmacy"
                    minWidth={text('Min Width', '20rem')}
                    isSearchable={boolean('Is Searchable', true)}
                    helperText={text('Helper Text', 'We will show reports based on Pharmacy')}
                    errorText={text('Error Text', '')}
                    variant={select('Variant', variants, 'filled')}
                    isCreatable={boolean('Creatable', true)}
                    showDecorators={false}
                />
            );
        }}
    </Story>
</Preview>

### Props

<Props of={MultiSelect} />

### MultiSelectTheme

This theme is shared between single select and multi select.

<Props of={ThemeInterface} />
