import { HTMLProps, updateNestedValue } from '@medly-components/utils';
import { SendIcon } from '@medly-components/icons';
import { defaultTheme } from '@medly-components/theme';
import { Button } from './Button.tsx';
import { ThemeProvider } from 'styled-components';
import { withKnobs, color, select, boolean } from '@storybook/addon-knobs';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { sizes, edges, variants, colors, ThemeInterface } from './Button.stories';

<Meta title="Core/Button" component={Button} parameters={{ jest: ['Button.test.tsx'] }} />

# Button

Simple button component with different design & colors.

You can play with the props in canvas tab.

<Preview withToolbar>
    <Story name="Button" decorators={[withKnobs]}>
        <Button
            size={select('Size', sizes, 'S')}
            fullWidth={boolean('Full Width', false)}
            edges={select('Edges', edges, 'square')}
            variant={select('Variant', variants, 'solid')}
            disabled={boolean('Disabled', false)}
        >
            Button Text
        </Button>
    </Story>
</Preview>

### Sizes

There are two button sizes are available `S` | `M`

##### Small Buttons

<Preview>
    <Button size="S">Small Size</Button>
    <Button size="S" edges="rounded">
        Small Size
    </Button>
    <Button size="S" edges="circle">
        <SendIcon size="S" />
    </Button>
</Preview>

##### Medium Buttons

<Preview>
    <Button size="M">Medium Size</Button>
    <Button size="M" edges="rounded">
        Medium Size
    </Button>
    <Button size="M" edges="circle">
        <SendIcon size="M" />
    </Button>
</Preview>

### Variants

Use variant prop to change the style of the button.

<Preview>
    <Button variant="solid">Solid Button</Button>
    <Button variant="outlined">Outlined Button</Button>
    <Button variant="flat">Flat Button</Button>
</Preview>

### Disabled

Disable style for all the variants.

<Preview>
    <Button disabled variant="solid">
        Solid Button
    </Button>
    <Button disabled variant="outlined">
        Outlined Button
    </Button>
    <Button disabled variant="flat">
        Flat Button
    </Button>
</Preview>

### With Icon

You can also use icons as content in the button like below.

```tsx
import { SendIcon } from '@medly-components/icons';
import { Button } from '@medly-components/icons';

<Button>
    <SendIcon size="S" />
    Send
</Button>;
```

<Preview>
    <Button variant="solid">
        <SendIcon size="S" />
        Send
    </Button>
    <Button variant="outlined">
        <SendIcon size="S" />
        Send
    </Button>
    <Button variant="flat">
        <SendIcon size="S" />
        Send
    </Button>
</Preview>

### Custom Colors

To use custom colors for button component you can provide the custom `theme` to button component. We have `updateNestedValue` function avalaible in `@medly-components/utils` to update the nested value in the object. Check out the `Theme` section to find out which all properties are mandatory in different vaiants.

```tsx
import { updateNestedValue } from '@medly-components/utils';
import { defaultTheme } from '@medly-components/theme';
import { Button } from './Button.tsx';
import { ThemeProvider } from 'styled-components';

<ThemeProvider
    theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
        default: defaultTheme.colors.red[500],
        hovered: defaultTheme.colors.red[600],
        pressed: defaultTheme.colors.red[700],
        disabled: defaultTheme.colors.grey[200]
    })}
>
    <Button variant="solid" size="S">
        Button Text
    </Button>
</ThemeProvider>;
```

<Preview>
    <ThemeProvider
        theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
            default: defaultTheme.colors.red[500],
            hovered: defaultTheme.colors.red[600],
            pressed: defaultTheme.colors.red[700],
            disabled: defaultTheme.colors.grey[200]
        })}
    >
        <Button variant="solid" size="S">
            Red Button
        </Button>
    </ThemeProvider>
    <ThemeProvider
        theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
            default: defaultTheme.colors.green[500],
            hovered: defaultTheme.colors.green[600],
            pressed: defaultTheme.colors.green[700],
            disabled: defaultTheme.colors.grey[200]
        })}
    >
        <Button variant="solid" size="S">
            Green Button
        </Button>
    </ThemeProvider>
</Preview>

### Props

<Props of={Button} />

### Theme

<Props of={ThemeInterface} />
