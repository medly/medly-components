import { HTMLProps, updateNestedValue } from '@medly-components/utils';
import { SendIcon } from '@medly-components/icons';
import { defaultTheme } from '@medly-components/theme';
import { Button } from './Button.tsx';
import { ThemeProvider } from 'styled-components';
import { withKnobs, color, select, boolean } from '@storybook/addon-knobs';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { sizes, edges, variants, colors, ThemeInterface } from './Button.stories';
import { action } from '@storybook/addon-actions';

<Meta title="Core" component={Button} parameters={{ jest: ['Button.test.tsx'] }} />

# Button

The `Button` component triggers actions that users can take. 

You can play with the props in the **Canvas** tab.

<Preview withToolbar>
    <Story name="Button" decorators={[withKnobs]}>
        <Button
            size={select('Size', sizes, 'S')}
            fullWidth={boolean('Full Width', false)}
            edges={select('Edges', edges, 'square')}
            variant={select('Variant', variants, 'solid')}
            disabled={boolean('Disabled', false)}
            isLoading={boolean('Is Loading', false)}
            onClick={action('Clicked')}
            hideUnderline={boolean('Hide Underline', false)}
        >
            Button Text
        </Button>
    </Story>
</Preview>

## Sizes

Four button sizes are available: `XS` | `S` | `M` | `L`

### Extra small buttons

<Preview>
    <Button size="XS">Extra Small Size</Button>
    <Button size="XS" edges="rounded">
        Extra Small Size
    </Button>
    <Button size="XS" edges="circle">
        <SendIcon size="XS" />
    </Button>
</Preview>

### Small buttons

<Preview>
    <Button size="S">Small Size</Button>
    <Button size="S" edges="rounded">
        Small Size
    </Button>
    <Button size="S" edges="circle">
        <SendIcon size="S" />
    </Button>
</Preview>

### Medium buttons

<Preview>
    <Button size="M">Medium Size</Button>
    <Button size="M" edges="rounded">
        Medium Size
    </Button>
    <Button size="M" edges="circle">
        <SendIcon size="M" />
    </Button>
</Preview>

### Large buttons

<Preview>
    <Button size="L">Large Size</Button>
    <Button size="L" edges="rounded">
        Large Size
    </Button>
    <Button size="L" edges="circle">
        <SendIcon size="L" />
    </Button>
</Preview>

## Variants

Use the variant prop to change the button style.

<Preview>
    <Button variant="solid">Solid Button</Button>
    <Button variant="outlined">Outlined Button</Button>
    <Button variant="flat">Flat Button</Button>
</Preview>

## Disabled

Use the disabled variant prop to disable all the variant styles.

<Preview>
    <Button disabled variant="solid">
        Solid Button
    </Button>
    <Button disabled variant="outlined">
        Outlined Button
    </Button>
    <Button disabled variant="flat">
        Flat Button
    </Button>
</Preview>

## With icon

Use icons as content in the button as shown below:

```tsx
import { SendIcon } from '@medly-components/icons';
import { Button } from '@medly-components/icons';

<Button>
    <SendIcon size="S" />
    Send
</Button>;
```

<Preview>
    <Button variant="solid">
        <SendIcon size="S" />
        Send
    </Button>
    <Button variant="outlined">
        <SendIcon size="S" />
        Send
    </Button>
    <Button variant="flat">
        <SendIcon size="S" />
        Send
    </Button>
</Preview>

## Custom colors

To use custom colors for the `button` component, provide the custom `theme`. You can use the `updateNestedValue` function available in `@medly-components/utils` to update the nested values in the `defaultTheme` object. Check the `Theme` section to find the mandatory properties in different variants.

```tsx
import { updateNestedValue } from '@medly-components/utils';
import { defaultTheme } from '@medly-components/theme';
import { Button } from './Button.tsx';
import { ThemeProvider } from 'styled-components';

<ThemeProvider
    theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
        default: defaultTheme.colors.red[500],
        hovered: defaultTheme.colors.red[600],
        pressed: defaultTheme.colors.red[700],
        disabled: defaultTheme.colors.grey[200]
    })}
>
    <Button variant="solid" size="S">
        Button Text
    </Button>
</ThemeProvider>;
```

<Preview>
    <ThemeProvider
        theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
            default: defaultTheme.colors.red[500],
            hovered: defaultTheme.colors.red[600],
            pressed: defaultTheme.colors.red[700],
            disabled: defaultTheme.colors.grey[200]
        })}
    >
        <Button variant="solid" size="S">
            Red Button
        </Button>
    </ThemeProvider>
    <ThemeProvider
        theme={updateNestedValue(defaultTheme, 'button.solid.bgColor', {
            default: defaultTheme.colors.green[500],
            hovered: defaultTheme.colors.green[600],
            pressed: defaultTheme.colors.green[700],
            disabled: defaultTheme.colors.grey[200]
        })}
    >
        <Button variant="solid" size="S">
            Green Button
        </Button>
    </ThemeProvider>
</Preview>

## Props

This component offers the following props mentioned in the table below:

<Props of={Button} />

## Theme

This component offers the following themes mentioned in the table below:

<Props of={ThemeInterface} />
