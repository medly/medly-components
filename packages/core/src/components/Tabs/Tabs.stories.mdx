import { HTMLProps } from '@medly-components/utils';
import { Tabs } from './Tabs.tsx';
import Tab from './Tab';
import { select, boolean } from '@storybook/addon-knobs';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { sizes, tabBg, ThemeInterface, DarkBackground } from './Tabs.stories';
import { DashboardIcon, DeleteIcon, EditIcon } from '@medly-components/icons';

<Meta
    title="Core/Tabs"
    component={Tabs}
    parameters={{
        jest: ['Tabs.test.tsx', 'TabList.test.tsx', 'TabPanel.test.tsx', 'Tab.test.tsx'],
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/vA4EQdxl0d0ETtYpw2uSjW/Medly-Pattern-Library-B2B-Internal?node-id=1416%3A1225'
        }
    }}
/>

# Tabs

The `Tab` component allows you to switch between components present in the different tabs of your page. You can use it to organize your content into logical groups.

Use `Tabs.Tab` to add tab in `Tabs` component.

```typescript
<Tabs aria-label="Basic Tabs">
    <Tabs.Tab id="tab1" label="Add">
        Content for the add panel
    </Tabs.Tab>
    <Tabs.Tab id="tab2" label="Edit">
        Content for the edit panel
    </Tabs.Tab>
    <Tabs.Tab id="tab3" label="Delete">
        Content for the delete panel
    </Tabs.Tab>
</Tabs>
```

## Without Icon

<Preview withToolbar>
    <Story name="WithoutIcon">
        <>
            <DarkBackground withGreyBackground={select('Tab Background', tabBg, 'WHITE')} />
            <Tabs
                defaultActive="tab1"
                aria-label="Basic Tabs"
                forceRender={boolean('Force Render', false)}
                fullWidth={boolean('Full Width', false)}
                tabSize={select('Tab Size', sizes, 'S')}
                variant={select('Variant', ['flat', 'outlined', 'solid'], 'flat')}
                tabBackground={select('Tab Background', tabBg, 'WHITE')}
            >
                <Tabs.Tab id="tab1" label="Add" helperText="Details" count={0}>
                    Content for the add panel
                </Tabs.Tab>
                <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10}>
                    Content for the edit panel
                </Tabs.Tab>
                <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} disabled={true} disabledLabel="(Disabled)">
                    Content for the delete panel
                </Tabs.Tab>
            </Tabs>
        </>
    </Story>
</Preview>

## With Icon

We provide the `icon` prop as well.

<Preview withToolbar>
    <Story name="WithIcon">
        <>
            <DarkBackground withGreyBackground={select('Tab Background', tabBg, 'WHITE')} />
            <Tabs
                defaultActive="tab1"
                aria-label="WithIcon Tabs"
                forceRender={boolean('Force Render', false)}
                fullWidth={boolean('Full Width', false)}
                tabSize={select('Tab Size', sizes, 'S')}
                tabBackground={select('Tab Background', tabBg, 'WHITE')}
                variant={select('Variant', ['flat', 'outlined', 'solid'], 'flat')}
            >
                <Tabs.Tab id="tab1" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
                    Content for the add panel
                </Tabs.Tab>
                <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10} icon={EditIcon}>
                    Content for the edit panel
                </Tabs.Tab>
                <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
                    Content for the delete panel
                </Tabs.Tab>
            </Tabs>
        </>
    </Story>
</Preview>

## Count and HelperText

`count` and `helperText` are optional props of `Tabs.Tab` component. See `Show code` section.

> **Note**: HelperText will only be visible in the "L" tab size.

<Preview withToolbar>
    <Tabs tabSize="L" defaultActive="tab1" aria-label="WithCountAndHelperText Tabs" tabBackground="WHITE">
        <Tabs.Tab id="tab1" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

<Preview withToolbar>
    <Tabs tabSize="S" defaultActive="tab1" aria-label="WithCountAndHelperText Tabs" tabBackground="WHITE">
        <Tabs.Tab id="tab1" label="Add" icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab2" label="Edit" icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab3" label="Delete" icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## Tabs variants

Three Tab variants are available viz; flat, outlined, and solid.

## 1. Flat

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L" variant="flat">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## 2. Outlined

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L" variant="outlined">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## 3. Solid

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Closed style tabs" tabSize="L" variant="solid">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

### Tab sizes

Three Tab szes are available: `S` | `M` | `L`.

## 1. `S`

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="S">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## 2. `M`

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="M">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## 3. `L`

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

## Usage

1. **Uncontrolled**: When using the uncontrolled `Tabs` component you do not need to provide any prop. By default, the first tab is active if you haven't provided the `defaultActive` prop.

2. **Controlled**: When using the controlled `Tabs` component you must provide the `active` and `onChange` prop.

## Keyboard support

This component supports keyboard navigation when in focus.

| Key         | Function                                      |
| ----------- | --------------------------------------------- |
| Right Arrow | Moves focus to the next tab                   |
| Left Arrow  | Moves focus to the previous tab               |
| Home        | Moves focus to the first tab and activates it |
| End         | Moves focus to the last tab and activates it  |

## Props

This component offers the `tabs` and `tab` props mentioned in the table below:

## 1. Tabs Props

<Props of={Tabs} />

## 2. Tab Props

<Props of={Tab} />

## TabsTheme

This component offers the following themes mentioned in the table below:

<Props of={ThemeInterface} />
