import { HTMLProps } from '@medly-components/utils';
import { Tabs } from './Tabs.tsx';
import Tab from './Tab';
import { select, boolean } from '@storybook/addon-knobs';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { sizes, tabBg, ThemeInterface, DarkBackground } from './Tabs.stories';
import { DashboardIcon, DeleteIcon, EditIcon } from '@medly-components/icons';

<Meta
    title="Core/Tabs"
    component={Tabs}
    parameters={{
        jest: ['Tabs.test.tsx', 'TabList.test.tsx', 'TabPanel.test.tsx', 'Tab.test.tsx'],
        design: {
            type: 'figma',
            url: 'https://www.figma.com/file/vA4EQdxl0d0ETtYpw2uSjW/Medly-Pattern-Library-B2B-Internal?node-id=1416%3A1225'
        }
    }}
/>

# Tabs

Displays specific content based on selected tab

Use `Tabs.Tab` to add tab in `Tabs` component.

```typescript
<Tabs aria-label="Basic Tabs">
    <Tabs.Tab id="tab1" label="Add">
        Content for the add panel
    </Tabs.Tab>
    <Tabs.Tab id="tab2" label="Edit">
        Content for the edit panel
    </Tabs.Tab>
    <Tabs.Tab id="tab3" label="Delete">
        Content for the delete panel
    </Tabs.Tab>
</Tabs>
```

### Without Icon

<Preview withToolbar>
    <Story name="WithoutIcon">
        <>
            <DarkBackground withGreyBackground={select('Tab Background', tabBg, 'WHITE')} />
            <Tabs
                defaultActive="tab1"
                aria-label="Basic Tabs"
                tabSize={select('Tab Size', sizes, 'S')}
                tabBackground={select('Tab Background', tabBg, 'WHITE')}
                forceRender={boolean('Force Render', false)}
                variant={select('Variant', ['flat', 'outlined', 'solid'], 'flat')}
            >
                <Tabs.Tab id="tab1" label="Add" helperText="Details" count={0}>
                    Content for the add panel
                </Tabs.Tab>
                <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10}>
                    Content for the edit panel
                </Tabs.Tab>
                <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} disabled={true} disabledLabel="(Disabled)">
                    Content for the delete panel
                </Tabs.Tab>
            </Tabs>
        </>
    </Story>
</Preview>

### WithIcon

We can also provide `icon` prop.

<Preview withToolbar>
    <Story name="WithIcon">
        <>
            <DarkBackground withGreyBackground={select('Tab Background', tabBg, 'WHITE')} />
            <Tabs
                defaultActive="tab1"
                aria-label="WithIcon Tabs"
                tabSize={select('Tab Size', sizes, 'S')}
                tabBackground={select('Tab Background', tabBg, 'WHITE')}
                forceRender={boolean('Force Render', false)}
            >
                <Tabs.Tab id="tab1" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
                    Content for the add panel
                </Tabs.Tab>
                <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10} icon={EditIcon}>
                    Content for the edit panel
                </Tabs.Tab>
                <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
                    Content for the delete panel
                </Tabs.Tab>
            </Tabs>
        </>
    </Story>
</Preview>

### Count and HelperText

`count` and `helperText` are optional props of `Tabs.Tab` component. See `Show code` section.

> **Note**: HelperText will only be visible in the "L" tab size.

<Preview withToolbar>
    <Tabs tabSize="L" defaultActive="tab1" aria-label="WithCountAndHelperText Tabs" tabBackground="WHITE">
        <Tabs.Tab id="tab1" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab2" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab3" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

<Preview withToolbar>
    <Tabs tabSize="S" defaultActive="tab1" aria-label="WithCountAndHelperText Tabs" tabBackground="WHITE">
        <Tabs.Tab id="tab1" label="Add" icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab2" label="Edit" icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab3" label="Delete" icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

### Tabs Variants

#### 1) Flat

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L" variant="flat">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

#### 2) Outlined

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L" variant="outlined">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

#### 3) Solid

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Closed style tabs" tabSize="L" variant="solid">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

### Tab Sizes

There are three szes available `S` | `M` | `L`.

#### 1) `S` size

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="S">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

#### 1) `M` size

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="M">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

#### 1) `L` size

<Preview withToolbar>
    <Tabs defaultActive="tab11" aria-label="Open style tabs" tabSize="L">
        <Tabs.Tab id="tab11" label="Add" helperText="Details" count={68} icon={DashboardIcon}>
            Content for the add panel
        </Tabs.Tab>
        <Tabs.Tab id="tab12" label="Edit" helperText="Details" count={10} icon={EditIcon}>
            Content for the edit panel
        </Tabs.Tab>
        <Tabs.Tab id="tab13" label="Delete" helperText="Details" count={30} icon={DeleteIcon} disabled={true}>
            Content for the delete panel
        </Tabs.Tab>
    </Tabs>
</Preview>

### Usage

1. **Uncontrolled**: When using uncontrolled `Tabs` component you do not need to provide any prop. By default first tab is active if you haven't provide `defaultActive` prop.

2. **Controlled**: When using controlled `Tabs` component you have to provide `active` and `onChange` prop.

### Keyboard Support

It also supports keyboard navigation when it is in focus

| Key         | Function                                      |
| ----------- | --------------------------------------------- |
| Right Arrow | Moves focus to the next tab                   |
| Left Arrow  | Moves focus to the previous tab               |
| Home        | Moves focus to the first tab and activates it |
| End         | Moves focus to the last tab and activates it  |

### Props

#### 1) Tabs Props

<Props of={Tabs} />

#### 1) Tab Props

<Props of={Tab} />

### TabsTheme

<Props of={ThemeInterface} />
