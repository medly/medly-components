import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { withKnobs } from '@storybook/addon-knobs';
import { defaultTheme } from '@medly-components/theme';
import { Accordion } from './Accordion.tsx';
import { AccordionWithActiveStateFromOutside } from './Accordion.stories';
import { Button } from '@medly-components/core';
import Text from '../Text';
import { useState } from 'react';

<Meta title="Core" component={Accordion} parameters={{ jest: ['Accordion.test.tsx'] }} />

# Accordion

Simple accordion component with two children components `Accordion.Header` and `Accordion.Content`, which are just wrapper components. You can pass any component as children to `Accordion.Header` and `Accordion.Content`.

<Preview withToolbar>
    <Story name="Accordion">
        <Accordion>
            <Accordion.Header>
                <div style={{ backgroundColor: '#e6effd', padding: `1.8rem` }}>
                    <Text>Header</Text>
                </div>
            </Accordion.Header>
            <Accordion.Content>
                <div style={{ backgroundColor: '#ecfbf9', padding: `1.8rem` }}>
                    <Text>Content</Text>
                </div>
            </Accordion.Content>
        </Accordion>
    </Story>
</Preview>

### Handling active state from outside

User can provide `active` and `onChange` props to handle active state from outside.

<Preview>
    <AccordionWithActiveStateFromOutside />
</Preview>

### With default active state

You can pass `defaultActive` prop to initialize the active state.

<Preview withToolbar>
    <Accordion defaultActive={true}>
        <Accordion.Header>
            <div style={{ backgroundColor: '#e6effd', padding: `1.8rem` }}>
                <Text>Header</Text>
            </div>
        </Accordion.Header>
        <Accordion.Content>
            <div style={{ backgroundColor: '#ecfbf9', padding: `1.8rem` }}>
                <Text>Content</Text>
            </div>
        </Accordion.Content>
    </Accordion>
</Preview>

We have also exposed `Accordion.Context` to enable finding the latest active state. Accordion context can be used as follows:

```tsx
const [isActive, setActiveState] = useContext(Accordion.Context);
```

Type of Accordion Context:

```tsx
export type AccordionContextType = [
    boolean /** Current active state */,
    React.Dispatch<React.SetStateAction<boolean>> /** Function to be called to toggle the active state */
];
```

### Props

<Props of={Accordion} />
