import { Chip } from './Chip';
import { updateNestedValue } from '@medly-components/utils';
import { ThemeProvider } from 'styled-components';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, color, select, boolean, text } from '@storybook/addon-knobs';
import * as stories from './Chip.stories';
import { defaultTheme } from '@medly-components/theme';
import { action } from '@storybook/addon-actions';

<Meta title="Core" component={Chip} />

# Chip

The `Chip` components are compact entities that are used for items that need to be labeled, categorized, or organized.

## Basic chip

Use the basic chip prop as mentioned below:

<Preview withToolbar>
    <Story name="Chip" decorators={[withKnobs]}>
        <Chip
            label={text('Label', 'Demo')}
            variant={select('Variant', stories.variant, 'solid')}
            onClick={action('Chip Clicked')}
            onDelete={action('Delete Clicked')}
            disabled={boolean('Disabled', false)}
            color={color('Color', defaultTheme.chip.defaultColor)}
        />
    </Story>
</Preview>

## Variants

Use the variant prop to change the button style.

<Preview>
    <Chip label="Solid Chip" onDelete={action('Delete Clicked')} variant="solid" color={defaultTheme.chip.defaultColor} />
    <Chip label="Outlined Chip" onDelete={action('Delete Clicked')} variant="outlined" color={defaultTheme.chip.defaultColor} />
    <Chip label="Flat Chip" onDelete={action('Delete Clicked')} variant="flat" color={defaultTheme.chip.defaultColor} />
</Preview>

## Disabled

Use the disabled variant prop to disable all the variant styles.

<Preview>
    <Chip disabled label="Solid Chip" variant="solid" color={defaultTheme.chip.defaultColor} />
    <Chip disabled label="Outlined Chip" variant="outlined" color={defaultTheme.chip.defaultColor} />
    <Chip disabled label="Flat Chip" variant="flat" color={defaultTheme.chip.defaultColor} />
</Preview>

## Delete icon

Use the `onDelete` prop to feature a delete 'x' icon on the chip.

<Preview withToolbar>
    <Chip label="Chip without delete icon" onClick={action('Clicked')} color={defaultTheme.chip.defaultColor} />
</Preview>

## Custom colors

To use custom colors for the `chip` component, provide the `custom` theme. Use the `updateNestedValue` function available in `@medly-components/utils` to update the nested values in the `defaultTheme` object. Check the `ChipTheme` section to find the customizable properties.

```tsx
import { updateNestedValue } from '@medly-components/utils';
import { defaultTheme } from '@medly-components/theme';
import { ThemeProvider } from 'styled-components';
import { Chip } from './Chip.tsx';

<ThemeProvider
    theme={updateNestedValue(defaultTheme, 'chip', {
        defaultColor: defaultTheme.colors.red[500],
        disabledColor: defaultTheme.colors.grey[200]
    })}
>
    <Chip label="Red Chip" variant="solid" />
</ThemeProvider>;
```

<Preview>
    <ThemeProvider
        theme={updateNestedValue(defaultTheme, 'chip', {
            defaultColor: defaultTheme.colors.red[500],
            disabledColor: defaultTheme.colors.grey[200]
        })}
    >
        <Chip label="Red Chip" />
    </ThemeProvider>
</Preview>

## Props

This component offers the following props mentioned in the table below:

<Props of={Chip} />

## ChipTheme

This component offers the following themes mentioned in the table below:

<Props of={stories.ThemeInterface} />
